import { setContext } from '@apollo/client/link/context';
import { ApolloLink } from '@apollo/client/link/core';
import { createPersistedQueryLink as _createPersistedQueryLink } from '@apollo/client/link/persisted-queries';
const transformLink = setContext((_, context) => {
    const ctx = {};
    if (context.http) {
        ctx.includeQuery = context.http.includeQuery;
        ctx.includeExtensions = context.http.includeExtensions;
    }
    if (context.fetchOptions && context.fetchOptions.method) {
        ctx.method = context.fetchOptions.method;
    }
    return ctx;
});
export const createPersistedQueryLink = (options) => ApolloLink.from([_createPersistedQueryLink(options), transformLink]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9wZXJzaXN0ZWQtcXVlcmllcy9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBQ3pELE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUN0RCxPQUFPLEVBQUUsd0JBQXdCLElBQUkseUJBQXlCLEVBQUUsTUFBTSx1Q0FBdUMsQ0FBQztBQUk5RyxNQUFNLGFBQWEsR0FBRyxVQUFVLENBQUMsQ0FBQyxDQUFDLEVBQUUsT0FBTyxFQUFFLEVBQUU7SUFDOUMsTUFBTSxHQUFHLEdBQVEsRUFBRSxDQUFDO0lBRXBCLElBQUksT0FBTyxDQUFDLElBQUksRUFBRTtRQUNoQixHQUFHLENBQUMsWUFBWSxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDO1FBQzdDLEdBQUcsQ0FBQyxpQkFBaUIsR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDO0tBQ3hEO0lBRUQsSUFBSSxPQUFPLENBQUMsWUFBWSxJQUFJLE9BQU8sQ0FBQyxZQUFZLENBQUMsTUFBTSxFQUFFO1FBQ3ZELEdBQUcsQ0FBQyxNQUFNLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUM7S0FDMUM7SUFFRCxPQUFPLEdBQUcsQ0FBQztBQUNiLENBQUMsQ0FBQyxDQUFDO0FBRUgsTUFBTSxDQUFDLE1BQU0sd0JBQXdCLEdBQUcsQ0FBQyxPQUFpQixFQUFFLEVBQUUsQ0FDNUQsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLHlCQUF5QixDQUFDLE9BQU8sQ0FBQyxFQUFFLGFBQW9CLENBQUMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc2V0Q29udGV4dCB9IGZyb20gJ0BhcG9sbG8vY2xpZW50L2xpbmsvY29udGV4dCc7XG5pbXBvcnQgeyBBcG9sbG9MaW5rIH0gZnJvbSAnQGFwb2xsby9jbGllbnQvbGluay9jb3JlJztcbmltcG9ydCB7IGNyZWF0ZVBlcnNpc3RlZFF1ZXJ5TGluayBhcyBfY3JlYXRlUGVyc2lzdGVkUXVlcnlMaW5rIH0gZnJvbSAnQGFwb2xsby9jbGllbnQvbGluay9wZXJzaXN0ZWQtcXVlcmllcyc7XG5cbmV4cG9ydCB0eXBlIE9wdGlvbnMgPSBQYXJhbWV0ZXJzPHR5cGVvZiBfY3JlYXRlUGVyc2lzdGVkUXVlcnlMaW5rPlswXTtcblxuY29uc3QgdHJhbnNmb3JtTGluayA9IHNldENvbnRleHQoKF8sIGNvbnRleHQpID0+IHtcbiAgY29uc3QgY3R4OiBhbnkgPSB7fTtcblxuICBpZiAoY29udGV4dC5odHRwKSB7XG4gICAgY3R4LmluY2x1ZGVRdWVyeSA9IGNvbnRleHQuaHR0cC5pbmNsdWRlUXVlcnk7XG4gICAgY3R4LmluY2x1ZGVFeHRlbnNpb25zID0gY29udGV4dC5odHRwLmluY2x1ZGVFeHRlbnNpb25zO1xuICB9XG5cbiAgaWYgKGNvbnRleHQuZmV0Y2hPcHRpb25zICYmIGNvbnRleHQuZmV0Y2hPcHRpb25zLm1ldGhvZCkge1xuICAgIGN0eC5tZXRob2QgPSBjb250ZXh0LmZldGNoT3B0aW9ucy5tZXRob2Q7XG4gIH1cblxuICByZXR1cm4gY3R4O1xufSk7XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVQZXJzaXN0ZWRRdWVyeUxpbmsgPSAob3B0aW9ucz86IE9wdGlvbnMpID0+XG4gIEFwb2xsb0xpbmsuZnJvbShbX2NyZWF0ZVBlcnNpc3RlZFF1ZXJ5TGluayhvcHRpb25zKSwgdHJhbnNmb3JtTGluayBhcyBhbnldKTtcbiJdfQ==